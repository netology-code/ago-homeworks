# Домашнее задание к занятию «3.4 Микросервисы: Service Discovery, Distributed Tracing»

Все задачи этого занятия можно делать в **одном репозитории**.

В качестве результата пришлите ссылки на ваши GitHub-проекты через личный кабинет студента на сайте [netology.ru](https://netology.ru).

**Важно**: если у вас что-то не получилось, то оформляйте Issue [по установленным правилам](../report-requirements.md).

## Как сдавать задачи

1. Создайте на вашем компьютере проект, в котором разместите Go-модули (на основании исходников с лекции).
1. Инициализируйте в нём пустой Git-репозиторий.
1. Добавьте в него готовый файл [.gitignore](../.gitignore).
1. Сделайте необходимые коммиты.
1. Создайте публичный репозиторий на GitHub и свяжите свой локальный репозиторий с удалённым.
1. Сделайте пуш (удостоверьтесь, что ваш код появился на GitHub).
1. Ссылку на ваш проект отправьте в личном кабинете на сайте [netology.ru](https://netology.ru).
1. Задачи, отмеченные как необязательные, можно не сдавать, это не повлияет на получение зачета.

## Distributed Tracing

### Задача

Реализуйте в ваших сервисах, основанных на gRPC (из предыдущих ДЗ можете взять как чисто синхронную версию, так и версию с Kafka), Distributed Tracing на базе OpenCensus и Jaeger. Для реализации трейсинга достаточно прочитать небольшое руководство: https://opencensus.io/guides/grpc/go/ (начинается с раздела Instrumentation).

Важные моменты:
1. Distributed Tracing реализуйте только для синхронных запросов.
1. Все зависимости и ваши сервисы подниматься с помощью Docker Compose.

В качестве результата пришлите ссылку на ваш GitHub-проект, в котором реализованы описанные выше требования.

## Service Discovery* (задача со звёздочкой)

**Важно**: это не обязательная задача, её невыполнение не влияет на получение зачёта

### Задача

Попробуйте реализовать в своих сервисах на gRPC Service Discovery на базе Consul.

Для этого достаточно:
1. Каждому сервису, который нам нужен для обнаружения, нужно назначить IP-адрес (мы рассматриваем самый простой сценарий)
2. Каждый подобный сервис должен регистрироваться с помощью вызовов API (аналогично лекции)
3. Настроить DNS (возьмите docker-compose.yml с лекции)
4. Проверить, что заработало

В качестве результата пришлите ссылку на ваш GitHub-проект, в котором реализованы описанные выше требования.
