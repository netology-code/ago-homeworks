# Домашнее задание к занятию «1.1. REST и JSON over HTTP»

Все задачи этого занятия нужно делать в **одном репозитории**.

В качестве результата пришлите ссылки на ваши GitHub-проекты через личный кабинет студента на сайте [netology.ru](https://netology.ru).

**Важно**: если у вас что-то не получилось, то оформляйте Issue [по установленным правилам](../report-requirements.md).

## Как сдавать задачи

1. Создайте на вашем компьютере Go-модуль (см. доп.видео к первой лекции).
1. Добавьте в него готовый файл [.gitignore](../.gitignore).
1. Добавьте в этот же каталог остальные необходимые файлы (убедитесь, что они аккуратно разложены по пакетам).
1. Сделайте необходимые коммиты.
1. Создайте публичный репозиторий на GitHub и свяжите свой локальный репозиторий с удалённым.
1. Сделайте пуш (удостоверьтесь, что ваш код появился на GitHub).
1. Ссылку на ваш проект отправьте в личном кабинете на сайте [netology.ru](https://netology.ru).
1. Задачи, отмеченные как необязательные, можно не сдавать, это не повлияет на получение зачета (в этом ДЗ все задачи являются обязательными).

## Задача №1 - Удаление по id

### Задача

Взяв за основу [проект с лекции](https://github.com/netology-code/ago-code/tree/ago2/01_rest/rest) реализуйте удаление по ID.

В качестве ответа возвращайте клиенту удалённую запись в формате JSON.

<details>
<summary>Подсказка</summary>

Используйте возможности `RETURNING`.
</details>

### Результат

В качестве результата пришлите ссылку на ваш GitHub проект, в котором реализованы описанные выше требования.

## Задача №2 - JSON

### Задача

В лекции мы достаточно часто повторяли один и тот же код:

```go
	data, err := json.Marshal(item) // или json.Marshal(items)
	if err != nil {
		http.Error(writer, http.StatusText(http.StatusInternalServerError), http.StatusInternalServerError)
		return
	}

	writer.Header().Set("Content-Type", "application/json")
	_, err = writer.Write(data)
	if err != nil {
		log.Print(err)
	}
```

Естественно, стоит избегать подобного повторения. Мы предлагаем вам создать пакет `rest`, в который и вынести этот код в виде функции:

```go
func WriteAsJSON(writer http.ResponseWriter, data interface{}) error {
    ...
}
```

Вы можете поменять сигнатуру функции и возвращаемые значения, если сочтёте нужным.

### Результат

Оформите результат в качестве pull-request'а к репозиторию из первого ДЗ.
